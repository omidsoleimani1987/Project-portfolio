{"version":3,"sources":["webpack:///./src/pages/auth/UserAuth.vue","webpack:///./src/pages/auth/UserAuth.vue?edea","webpack:///./src/pages/auth/UserAuth.vue?c5ac"],"names":["class","for","show","error","title","handleError","fixed","isLoading","submitForm","type","id","email","password","formIsValid","submitButtonCaption","mode","switchAuthMode","switchModeButtonCaption","data","computed","this","methods","includes","length","UserInfo","$store","dispatch","redirectUrl","$route","query","redirect","$router","replace","message","render","__scopeId"],"mappings":"sNAcaA,MAAM,gB,EACT,eAAgC,SAAzBC,IAAI,SAAQ,SAAK,G,GAGrBD,MAAM,gB,EACT,eAAsC,SAA/BC,IAAI,YAAW,YAAQ,G,qNAlBtC,eA+BM,YA9BJ,eAMc,GALXC,OAAQ,EAAAC,MACTC,MAAM,qBACL,QAAO,EAAAC,a,YAER,iBAAkB,CAAlB,eAAkB,wBAAZ,EAAAF,OAAK,O,2BAEb,eAEc,GAFDG,MAAA,GAAOJ,KAAM,EAAAK,UAAWH,MAAM,qB,YACzC,iBAA6B,CAA7B,eAA6B,O,iBAE/B,eAmBY,Q,WAlBV,iBAiBO,CAjBP,eAiBO,QAjBA,SAAM,8CAAU,EAAAI,WAAA,qBAAU,e,CAC/B,eAGM,MAHN,EAGM,CAFJ,E,eACA,eAAsD,SAA/CC,KAAK,QAAQC,GAAG,Q,qDAAsB,EAAAC,MAAK,K,mBAAL,EAAAA,W,SAAd,QAEjC,eAGM,MAHN,EAGM,CAFJ,E,eACA,eAA+D,SAAxDF,KAAK,WAAWC,GAAG,W,qDAAyB,EAAAE,SAAQ,K,mBAAR,EAAAA,c,SAAd,QAE7B,EAAAC,Y,wCAAV,eAGI,MAHmB,+EAIvB,eAAoD,Q,WAAvC,iBAAyB,C,8BAAtB,EAAAC,qBAAmB,O,MACnC,eAEgB,GAFHL,KAAK,SAASM,KAAK,OAAQ,QAAO,EAAAC,gB,YAAgB,iBAE7D,C,8BADA,EAAAC,yBAAuB,O,wGAQlB,GACbC,KADa,WAEX,MAAO,CACLP,MAAO,GACPC,SAAU,GACVC,aAAa,EACbE,KAAM,QACNR,WAAW,EACXJ,MAAO,OAGXgB,SAAU,CACRL,oBADQ,WAEN,MAAqB,UAAdM,KAAKL,KAAmB,QAAU,UAE3CE,wBAJQ,WAKN,MAAqB,UAAdG,KAAKL,KAAmB,iBAAmB,kBAGtDM,QAAS,CACDb,WADC,WACY,mKAEA,KAAf,EAAKG,OACJ,EAAKA,MAAMW,SAAS,QACrB,EAAKV,SAASW,OAAS,GAJR,uBAMf,EAAKV,aAAc,EANJ,6BAUjB,EAAKN,WAAY,EAEXiB,EAAW,CACfb,MAAO,EAAKA,MACZC,SAAU,EAAKA,UAdA,SAkBG,UAAd,EAAKG,KAlBM,iCAmBP,EAAKU,OAAOC,SAAS,QAASF,GAnBvB,gDAqBP,EAAKC,OAAOC,SAAS,SAAUF,GArBxB,QAwBTG,EAAc,KAAO,EAAKC,OAAOC,MAAMC,UAAY,WACzD,EAAKC,QAAQC,QAAQL,GAzBN,qDA2Bf,EAAKxB,MAAQ,KAAI8B,SAAW,qCA3Bb,QA8BjB,EAAK1B,WAAY,EA9BA,6DAgCnBS,eAjCO,WAkCa,UAAdI,KAAKL,KACPK,KAAKL,KAAO,SAEZK,KAAKL,KAAO,SAGhBV,YAxCO,WAyCLe,KAAKjB,MAAQ,Q,UC3FnB,EAAO+B,OAAS,EAChB,EAAOC,UAAY,kBAEJ,gB,yDCRf","file":"js/chunk-37aac446.fcb6c7b9.js","sourcesContent":["<template>\r\n  <div>\r\n    <base-dialog\r\n      :show=\"!!error\"\r\n      title=\"An error occurred!\"\r\n      @close=\"handleError\"\r\n    >\r\n      <p>{{ error }}</p>\r\n    </base-dialog>\r\n    <base-dialog fixed :show=\"isLoading\" title=\"Authenticating...\">\r\n      <base-spinner></base-spinner>\r\n    </base-dialog>\r\n    <base-card>\r\n      <form @submit.prevent=\"submitForm\">\r\n        <div class=\"form-control\">\r\n          <label for=\"email\">Email</label>\r\n          <input type=\"email\" id=\"email\" v-model.trim=\"email\" />\r\n        </div>\r\n        <div class=\"form-control\">\r\n          <label for=\"password\">Password</label>\r\n          <input type=\"password\" id=\"password\" v-model.trim=\"password\" />\r\n        </div>\r\n        <p v-if=\"!formIsValid\">\r\n          please enter a valid an email and password (must be six characters\r\n          long)\r\n        </p>\r\n        <base-button>{{ submitButtonCaption }}</base-button>\r\n        <base-button type=\"button\" mode=\"flat\" @click=\"switchAuthMode\">{{\r\n          switchModeButtonCaption\r\n        }}</base-button>\r\n      </form>\r\n    </base-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      email: '',\r\n      password: '',\r\n      formIsValid: true,\r\n      mode: 'login',\r\n      isLoading: false,\r\n      error: null\r\n    };\r\n  },\r\n  computed: {\r\n    submitButtonCaption() {\r\n      return this.mode === 'login' ? 'Login' : 'Signup';\r\n    },\r\n    switchModeButtonCaption() {\r\n      return this.mode === 'login' ? 'Signup instead' : 'Login instead';\r\n    }\r\n  },\r\n  methods: {\r\n    async submitForm() {\r\n      if (\r\n        this.email === '' ||\r\n        !this.email.includes('@') ||\r\n        this.password.length < 6\r\n      ) {\r\n        this.formIsValid = false;\r\n        return;\r\n      }\r\n\r\n      this.isLoading = true;\r\n\r\n      const UserInfo = {\r\n        email: this.email,\r\n        password: this.password\r\n      };\r\n\r\n      try {\r\n        if (this.mode === 'login') {\r\n          await this.$store.dispatch('login', UserInfo);\r\n        } else {\r\n          await this.$store.dispatch('signup', UserInfo);\r\n        }\r\n        // managing redirect\r\n        const redirectUrl = '/' + (this.$route.query.redirect || 'coaches');\r\n        this.$router.replace(redirectUrl);\r\n      } catch (err) {\r\n        this.error = err.message || 'failed to authenticate, try later!';\r\n      }\r\n\r\n      this.isLoading = false;\r\n    },\r\n    switchAuthMode() {\r\n      if (this.mode === 'login') {\r\n        this.mode = 'signup';\r\n      } else {\r\n        this.mode = 'login';\r\n      }\r\n    },\r\n    handleError() {\r\n      this.error = null;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nform {\r\n  margin: 1rem;\r\n  border-radius: 12px;\r\n  padding: 1rem;\r\n}\r\n\r\n.form-control {\r\n  margin: 0.5rem 0;\r\n}\r\n\r\nlabel {\r\n  font-weight: bold;\r\n  margin-bottom: 0.5rem;\r\n  display: block;\r\n}\r\n\r\ninput,\r\ntextarea {\r\n  display: block;\r\n  width: 100%;\r\n  font: inherit;\r\n  border: 1px solid #ccc;\r\n  padding: 0.15rem;\r\n}\r\n\r\ninput:focus,\r\ntextarea:focus {\r\n  border-color: #3d008d;\r\n  background-color: #faf6ff;\r\n  outline: none;\r\n}\r\n</style>\r\n","import { render } from \"./UserAuth.vue?vue&type=template&id=3e683422&scoped=true&bindings={\\\"email\\\":\\\"data\\\",\\\"password\\\":\\\"data\\\",\\\"formIsValid\\\":\\\"data\\\",\\\"mode\\\":\\\"data\\\",\\\"isLoading\\\":\\\"data\\\",\\\"error\\\":\\\"data\\\",\\\"submitButtonCaption\\\":\\\"options\\\",\\\"switchModeButtonCaption\\\":\\\"options\\\",\\\"submitForm\\\":\\\"options\\\",\\\"switchAuthMode\\\":\\\"options\\\",\\\"handleError\\\":\\\"options\\\"}\"\nimport script from \"./UserAuth.vue?vue&type=script&lang=js\"\nexport * from \"./UserAuth.vue?vue&type=script&lang=js\"\n\nimport \"./UserAuth.vue?vue&type=style&index=0&id=3e683422&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-3e683422\"\n\nexport default script","export { default } from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./UserAuth.vue?vue&type=style&index=0&id=3e683422&scoped=true&lang=css\"; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./UserAuth.vue?vue&type=style&index=0&id=3e683422&scoped=true&lang=css\""],"sourceRoot":""}